import{r as e,j as t,t as s,c as a,u as n,M as r,S as i,a as o,m as l,A as d,C as c,b as u,d as m,e as x,f as g,g as f,E as p,R as h,T as v,h as j,i as b,D as N,k as y,l as w,P as k,O as C,n as z,o as S,p as I,X as _,q as E,s as F,v as P,w as M,L as A,x as O,F as L,y as V,z as D,B as T,G as $,H as G,I as q,J as R,V as U,K as J,N as W,Q as B,U as H,W as K,Y,Z as Q,_ as Z,$ as X,a0 as ee,a1 as te,a2 as se,a3 as ae,a4 as ne,a5 as re,a6 as ie,a7 as oe,a8 as le,a9 as de,aa as ce,ab as ue,ac as me}from"./vendor-DGkoIWuR.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const xe=e=>{const t="dark"===e||"system"===e&&"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: light)").matches;document.documentElement.classList.toggle("dark",t),document.documentElement.style.colorScheme=t?"dark":"light"},ge=()=>"undefined"==typeof window?null:window.matchMedia("(prefers-color-scheme: dark)"),fe=()=>{const e=localStorage.getItem("appearance");xe(e||"system")};function pe(){const[t,s]=e.useState("system"),a=e.useCallback(e=>{s(e),localStorage.setItem("appearance",e),((e,t,s=365)=>{if("undefined"==typeof document)return;const a=24*s*60*60;document.cookie=`${e}=${t};path=/;max-age=${a};SameSite=Lax`})("appearance",e),xe(e)},[]);return e.useEffect(()=>{const e=localStorage.getItem("appearance");return a(e||"system"),()=>ge()?.removeEventListener("change",fe)},[a]),{appearance:t,updateAppearance:a}}const he=({appName:e,appVersion:s})=>t.jsxs("div",{className:"text-left",children:[t.jsx("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight text-balance",children:e}),t.jsxs("p",{className:"text-sm",children:["Version ",s]})]});function ve(...e){return s(a(e))}const je=[{key:"system",icon:r,label:"System theme"},{key:"light",icon:i,label:"Light theme"},{key:"dark",icon:o,label:"Dark theme"}],be=({value:s,onChange:a,defaultValue:r="system",className:i})=>{const[o,d]=n({defaultProp:r,prop:s,onChange:a}),[c,u]=e.useState(!1),m=e.useCallback(e=>{d(e)},[d]);return e.useEffect(()=>{u(!0)},[]),c?t.jsx("div",{className:ve("relative isolate flex h-8 rounded-full bg-background p-1 ring-1 ring-border",i),children:je.map(({key:e,icon:s,label:a})=>{const n=o===e;return t.jsxs("button",{"aria-label":a,className:"relative h-6 w-6 rounded-full",onClick:()=>m(e),type:"button",children:[n&&t.jsx(l.div,{className:"absolute inset-0 rounded-full bg-secondary",layoutId:"activeTheme",transition:{type:"spring",duration:.5}}),t.jsx(s,{className:ve("relative z-10 m-auto h-4 w-4",n?"text-foreground":"text-muted-foreground")})]},e)})}):null},Ne=()=>{const{appearance:e,updateAppearance:s}=pe();return t.jsx(be,{value:e,onChange:s})},ye=m("inline-flex items-center justify-center cursor-pointer rounded-md transition-colors disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",muted:"bg-muted text-muted-foreground",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50"},size:{default:"size-8 rounded-lg [&_svg]:size-4",sm:"size-6 [&_svg]:size-3",md:"size-10 rounded-lg [&_svg]:size-5",lg:"size-12 rounded-xl [&_svg]:size-6"}},defaultVariants:{variant:"default",size:"default"}});function we({content:s,className:a,size:n,variant:r,delay:i=3e3,onClick:o,onCopy:m,isCopied:x,onCopyChange:g,...f}){const[p,h]=e.useState(x??!1),v=p?c:u;e.useEffect(()=>{h(x??!1)},[x]);const j=e.useCallback(e=>{h(e),g?.(e)},[g]),b=e.useCallback(e=>{x||(s&&navigator.clipboard.writeText(s).then(()=>{j(!0),setTimeout(()=>j(!1),i),m?.(s)}).catch(e=>{console.error("Error copying command",e)}),o?.(e))},[x,s,i,o,m,j]);return t.jsx(l.button,{"data-slot":"copy-button",whileHover:{scale:1.05},whileTap:{scale:.95},className:ve(ye({variant:r,size:n}),a),onClick:b,...f,children:t.jsx(d,{mode:"wait",children:t.jsx(l.span,{"data-slot":"copy-button-icon",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.15},children:t.jsx(v,{})},p?"check":"copy")})})}const ke=m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Ce({className:e,variant:s,size:a,asChild:n=!1,...r}){const i=n?x:"button";return t.jsx(i,{"data-slot":"button",className:ve(ke({variant:s,size:a,className:e})),...r})}const ze=m("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function Se({className:e,orientation:s,...a}){return t.jsx("div",{role:"group","data-slot":"button-group","data-orientation":s,className:ve(ze({orientation:s}),e),...a})}function Ie({className:e,...s}){return t.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:ve("mx-auto flex w-full justify-center",e),...s})}function _e({className:e,...s}){return t.jsx("ul",{"data-slot":"pagination-content",className:ve("flex flex-row items-center gap-1",e),...s})}function Ee({...e}){return t.jsx("li",{"data-slot":"pagination-item",...e})}function Fe({className:e,isActive:s,size:a="icon",...n}){return t.jsx("a",{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:ve(ke({variant:s?"outline":"ghost",size:a}),e),...n})}function Pe({className:e,...s}){return t.jsxs(Fe,{"aria-label":"Go to previous page",size:"default",className:ve("gap-1 px-2.5 sm:pl-2.5",e),...s,children:[t.jsx(g,{}),t.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function Me({className:e,...s}){return t.jsxs(Fe,{"aria-label":"Go to next page",size:"default",className:ve("gap-1 px-2.5 sm:pr-2.5",e),...s,children:[t.jsx("span",{className:"hidden sm:block",children:"Next"}),t.jsx(f,{})]})}function Ae({className:e,...s}){return t.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:ve("flex size-9 items-center justify-center",e),...s,children:[t.jsx(p,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"More pages"})]})}const Oe=(e,s,a)=>{const n=[];if(s<=4)for(let r=1;r<=s;r++)n.push(t.jsx(Ee,{children:t.jsx(Fe,{onClick:()=>a(r),isActive:r===e,children:r})},r));else{n.push(t.jsx(Ee,{children:t.jsx(Fe,{onClick:()=>a(1),isActive:1===e,children:"1"})},1)),e>3&&n.push(t.jsx(Ae,{},"start-ellipsis"));let r=Math.max(2,e-1),i=Math.min(s-1,e+1);for(let s=r;s<=i;s++)n.push(t.jsx(Ee,{children:t.jsx(Fe,{onClick:()=>a(s),isActive:s===e,children:s})},s));e<s-2&&n.push(t.jsx(Ae,{},"end-ellipsis")),n.push(t.jsx(Ee,{children:t.jsx(Fe,{onClick:()=>a(s),isActive:e===s,children:s})},s))}return n};function Le({currentPage:e,totalPages:s,onPageChange:a,showPreviousNext:n=!0}){const r=e<=1,i=e>=s;return t.jsx(Ie,{children:t.jsxs(_e,{children:[n&&t.jsx(Ee,{children:t.jsx(Pe,{"aria-disabled":r,tabIndex:r?-1:0,className:r?"pointer-events-none opacity-50":"",onClick:()=>{r||a(e-1)}})}),Oe(e,s,a),n&&t.jsx(Ee,{children:t.jsx(Me,{"aria-disabled":i,tabIndex:i?-1:0,className:i?"pointer-events-none opacity-50":"",onClick:()=>{i||a(e+1)}})})]})})}function Ve({className:e,type:s,...a}){return t.jsx("input",{type:s,"data-slot":"input",className:ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}function De({className:e,...s}){return t.jsx("div",{"data-slot":"input-group",role:"group",className:ve("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",e),...s})}const Te=m("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function $e({className:e,align:s="inline-start",...a}){return t.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":s,className:ve(Te({align:s}),e),onClick:e=>{e.target.closest("button")||e.currentTarget.parentElement?.querySelector("input")?.focus()},...a})}function Ge({className:e,...s}){return t.jsx(Ve,{"data-slot":"input-group-control",className:ve("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",e),...s})}function qe({className:e,...s}){return t.jsx("div",{"data-slot":"empty",className:ve("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",e),...s})}function Re({className:e,...s}){return t.jsx("div",{"data-slot":"empty-header",className:ve("flex max-w-sm flex-col items-center gap-2 text-center",e),...s})}const Ue=m("flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:s="default",...a}){return t.jsx("div",{"data-slot":"empty-icon","data-variant":s,className:ve(Ue({variant:s,className:e})),...a})}function We({className:e,...s}){return t.jsx("div",{"data-slot":"empty-title",className:ve("text-lg font-medium tracking-tight",e),...s})}function Be({className:e,...s}){return t.jsx("div",{"data-slot":"empty-description",className:ve("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",e),...s})}function He({className:e,...s}){return t.jsx("div",{"data-slot":"empty-content",className:ve("flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance",e),...s})}function Ke({...e}){return t.jsx(h,{"data-slot":"alert-dialog",...e})}function Ye({...e}){return t.jsx(v,{"data-slot":"alert-dialog-trigger",...e})}function Qe({...e}){return t.jsx(k,{"data-slot":"alert-dialog-portal",...e})}function Ze({className:e,...s}){return t.jsx(C,{"data-slot":"alert-dialog-overlay",className:ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function Xe({className:e,...s}){return t.jsxs(Qe,{children:[t.jsx(Ze,{}),t.jsx(j,{"data-slot":"alert-dialog-content",className:ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s})]})}function et({className:e,...s}){return t.jsx("div",{"data-slot":"alert-dialog-header",className:ve("flex flex-col gap-2 text-center sm:text-left",e),...s})}function tt({className:e,...s}){return t.jsx("div",{"data-slot":"alert-dialog-footer",className:ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function st({className:e,...s}){return t.jsx(b,{"data-slot":"alert-dialog-title",className:ve("text-lg font-semibold",e),...s})}function at({className:e,...s}){return t.jsx(N,{"data-slot":"alert-dialog-description",className:ve("text-muted-foreground text-sm",e),...s})}function nt({className:e,...s}){return t.jsx(w,{className:ve(ke(),e),...s})}function rt({className:e,...s}){return t.jsx(y,{className:ve(ke({variant:"outline"}),e),...s})}function it({...e}){return t.jsx(z,{"data-slot":"dialog",...e})}function ot({...e}){return t.jsx(P,{"data-slot":"dialog-portal",...e})}function lt({...e}){return t.jsx(I,{"data-slot":"dialog-close",...e})}function dt({className:e,...s}){return t.jsx(M,{"data-slot":"dialog-overlay",className:ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function ct({className:e,children:s,showCloseButton:a=!0,...n}){return t.jsxs(ot,{"data-slot":"dialog-portal",children:[t.jsx(dt,{}),t.jsxs(S,{"data-slot":"dialog-content",className:ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[s,a&&t.jsxs(I,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(_,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ut({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-header",className:ve("flex flex-col gap-2 text-center sm:text-left",e),...s})}function mt({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-footer",className:ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function xt({className:e,...s}){return t.jsx(E,{"data-slot":"dialog-title",className:ve("text-lg leading-none font-semibold",e),...s})}function gt({className:e,...s}){return t.jsx(F,{"data-slot":"dialog-description",className:ve("text-muted-foreground text-sm",e),...s})}const ft=({open:e,onOpenChange:s,title:a,description:n,editingSubject:r,onSave:i,onClose:o,processing:l=!1,success:d=!1,dirty:c=!0,children:u})=>{const m=!!r,x=a??(m?"Edit Subject":"Add Subject"),g=n??(m?"Update the form below to edit your subject. Click save when you're done.":"Fill out the form below to add your subject. Click add when you're done.");return t.jsx(it,{open:e,onOpenChange:s,children:t.jsxs(ct,{className:"sm:max-w-xl",children:[t.jsxs(ut,{children:[t.jsx(xt,{children:x}),t.jsx(gt,{children:g})]}),t.jsx("div",{className:"grid gap-4",children:u}),t.jsxs(mt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(Ce,{variant:"outline",onClick:o,disabled:l,children:"Cancel"})}),t.jsxs(Ce,{type:"button",className:""+(d&&!c?"text-stone-100":""),onClick:i,disabled:l||!c,variant:d&&!c?"secondary":"default",children:[l&&t.jsx(A,{className:"h-4 w-4 animate-spin mr-2"}),r?"Update":"Save"]})]})]})})};function pt({className:e,...s}){return t.jsx(O,{"data-slot":"label",className:ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const ht=L,vt=e.createContext({}),jt=({...e})=>t.jsx(vt.Provider,{value:{name:e.name},children:t.jsx(V,{...e})}),bt=()=>{const t=e.useContext(vt),s=e.useContext(Nt),{getFieldState:a}=D(),n=T({name:t.name}),r=a(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},Nt=e.createContext({});function yt({className:s,...a}){const n=e.useId();return t.jsx(Nt.Provider,{value:{id:n},children:t.jsx("div",{"data-slot":"form-item",className:ve("grid gap-2",s),...a})})}function wt({className:e,...s}){const{error:a,formItemId:n}=bt();return t.jsx(pt,{"data-slot":"form-label","data-error":!!a,className:ve("data-[error=true]:text-destructive",e),htmlFor:n,...s})}function kt({...e}){const{error:s,formItemId:a,formDescriptionId:n,formMessageId:r}=bt();return t.jsx(x,{"data-slot":"form-control",id:a,"aria-describedby":s?`${n} ${r}`:`${n}`,"aria-invalid":!!s,...e})}function Ct({className:e,...s}){const{error:a,formMessageId:n}=bt(),r=a?String(a?.message??""):s.children;return r?t.jsx("p",{"data-slot":"form-message",id:n,className:ve("text-destructive text-sm",e),...s,children:r}):null}function zt({...e}){return t.jsx($,{"data-slot":"select",...e})}function St({...e}){return t.jsx(H,{"data-slot":"select-group",...e})}function It({...e}){return t.jsx(U,{"data-slot":"select-value",...e})}function _t({className:e,size:s="default",children:a,...n}){return t.jsxs(G,{"data-slot":"select-trigger","data-size":s,className:ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[a,t.jsx(q,{asChild:!0,children:t.jsx(R,{className:"size-4 opacity-50"})})]})}function Et({className:e,children:s,position:a="popper",align:n="center",...r}){return t.jsx(J,{children:t.jsxs(W,{"data-slot":"select-content",className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,align:n,...r,children:[t.jsx(Mt,{}),t.jsx(B,{className:ve("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),t.jsx(At,{})]})})}function Ft({className:e,...s}){return t.jsx(K,{"data-slot":"select-label",className:ve("text-muted-foreground px-2 py-1.5 text-xs",e),...s})}function Pt({className:e,children:s,...a}){return t.jsxs(Y,{"data-slot":"select-item",className:ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(Q,{children:t.jsx(c,{className:"size-4"})})}),t.jsx(Z,{children:s})]})}function Mt({className:e,...s}){return t.jsx(X,{"data-slot":"select-scroll-up-button",className:ve("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(ee,{className:"size-4"})})}function At({className:e,...s}){return t.jsx(te,{"data-slot":"select-scroll-down-button",className:ve("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(R,{className:"size-4"})})}const Ot=se({code:ae({message:"Code is required."}),title:ae({message:"Title is required."}),grade:ae({message:"Grade is required."}),units:ae({message:"Units are required."})}),Lt=e.forwardRef(({subject:s,subjects:a,onSuccess:n,inputRef:r,setModalOpen:i,setProcessing:o,setSuccess:l,setDirty:d},c)=>{const u=ne({resolver:re(Ot),defaultValues:s?{code:s.code,title:s.title,grade:s.grade.toFixed(2),units:s.units.toString()}:{code:"CODE"+(a?(a.length+1).toString().padStart(4,"0"):"0001"),title:"Subject "+(a?(a.length+1).toString():"1")}});return e.useEffect(()=>{d?.(u.formState.isDirty)},[u.formState.isDirty,d]),t.jsx(ht,{...u,children:t.jsxs("form",{ref:c,onSubmit:u.handleSubmit(async function(e){o?.(!0),l?.(!1);try{const t={...e,grade:parseFloat(e.grade),units:Number(e.units)};n&&await n(t),l?.(!0)}finally{o?.(!1),i?.(!1)}}),className:"space-y-4",children:[t.jsx(jt,{control:u.control,name:"code",render:({field:e})=>t.jsxs(yt,{className:"flex-1",children:[t.jsx(wt,{children:"Course Code"}),t.jsx(kt,{children:t.jsx(Ve,{placeholder:"e.g., COMSCI 1101",...e,ref:r})}),t.jsx(Ct,{})]})}),t.jsx(jt,{control:u.control,name:"title",render:({field:e})=>t.jsxs(yt,{className:"flex-1",children:[t.jsx(wt,{children:"Course Title"}),t.jsx(kt,{children:t.jsx(Ve,{placeholder:"e.g., Computer Programming I",...e})}),t.jsx(Ct,{})]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(jt,{control:u.control,name:"grade",render:({field:e})=>t.jsxs(yt,{className:"flex-1",children:[t.jsx(wt,{children:"Grade"}),t.jsx(kt,{children:t.jsxs(zt,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(_t,{children:t.jsx(It,{placeholder:"Select your grade"})}),t.jsx(Et,{children:t.jsxs(St,{children:[t.jsx(Ft,{children:"Grades"}),[1,1.25,1.5,1.75,2,2.25,2.5,3,4,5].map(e=>t.jsx(Pt,{value:e.toFixed(2),children:e.toFixed(2)},e))]})})]})}),t.jsx(Ct,{})]})}),t.jsx(jt,{control:u.control,name:"units",render:({field:e})=>t.jsxs(yt,{className:"flex-1",children:[t.jsx(wt,{children:"Units"}),t.jsx(kt,{children:t.jsxs(zt,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(_t,{children:t.jsx(It,{placeholder:"Select units"})}),t.jsx(Et,{children:t.jsxs(St,{children:[t.jsx(Ft,{children:"Units"}),[1,2,3,4,5,6,7,8,9,10].map(e=>t.jsx(Pt,{value:e.toString(),children:e},e))]})})]})}),t.jsx(Ct,{})]})})]})]})})});function Vt(){const s="gwa_calculator_subjects_jpb",[a,n]=e.useState(null),[r,i]=e.useState([]),[o,l]=e.useState(null),[d,c]=e.useState(""),[u,m]=e.useState(1),[x,g]=e.useState(!1),[f,p]=e.useState(!1),h=e.useRef(null),v=e.useRef(null),[j,b]=e.useState(!1),[N,y]=e.useState(!1),[w,k]=e.useState(!0);e.useEffect(()=>{const e=localStorage.getItem(s);e&&i(JSON.parse(e))},[]),e.useEffect(()=>{if(0===r.length)return void n(0);const e=r.reduce((e,t)=>e+t.grade*t.units,0),t=r.reduce((e,t)=>e+t.units,0);n(parseFloat((e/t).toFixed(3))),localStorage.setItem(s,JSON.stringify(r))},[r]);const C=r.filter(e=>e.code.toLowerCase().includes(d.toLowerCase())||e.title.toLowerCase().includes(d.toLowerCase())||e.grade.toFixed(3).includes(d)||e.units.toString().includes(d)),z=Math.max(1,Math.ceil(C.length/10)),S=C.slice(10*(u-1),10*u);return e.useEffect(()=>{u>z&&m(1)},[C,z,u]),t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-svh p-4",children:[t.jsxs("div",{className:"w-full max-w-3xl",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between w-full",children:[t.jsx(he,{appName:"GWA Calculator",appVersion:"1.0.0"}),t.jsx(Ne,{})]}),t.jsxs("div",{className:"flex items-center justify-between bg-muted rounded-lg w-full mt-8 py-12 px-8",children:[t.jsx(we,{size:"lg",content:null!==a&&0!==a?a.toFixed(3):"0"}),t.jsx("div",{className:"text-end text-6xl font-mono font-bold",children:null!==a&&0!==a?a.toFixed(3):"0"})]}),t.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[0===r.length?t.jsxs(qe,{className:"border border-dashed",children:[t.jsxs(Re,{children:[t.jsx(Je,{variant:"icon",children:t.jsx(ie,{})}),t.jsx(We,{children:"No Subjects Found"}),t.jsx(Be,{children:"Add subjects to get started. Your subjects will appear here and youâ€™ll be able to view, edit, and calculate your GWA as you go."})]}),t.jsx(He,{children:t.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>g(!0),children:"Add Subject"})})]}):t.jsxs(Se,{children:[t.jsxs(Ce,{variant:"outline",onClick:()=>g(!0),children:[t.jsx(oe,{className:"size-4"}),"Add"]}),t.jsxs(Ke,{open:f,onOpenChange:p,children:[t.jsx(Ye,{asChild:!0,children:t.jsxs(Ce,{variant:"outline",onClick:()=>p(!0),children:[t.jsx(le,{className:"size-4"}),"Reset"]})}),t.jsxs(Xe,{children:[t.jsxs(et,{children:[t.jsx(st,{children:"Are you absolutely sure?"}),t.jsx(at,{children:"This action cannot be undone. This will permanently delete all your subjects and reset your GWA."})]}),t.jsxs(tt,{children:[t.jsx(rt,{children:"Cancel"}),t.jsx(nt,{onClick:()=>{i([]),n(0),p(!1),localStorage.removeItem(s)},children:"Continue"})]})]})]})]}),r.length>0&&t.jsx("div",{className:"w-full flex justify-end",children:t.jsxs(De,{className:"sm ml-auto",children:[t.jsx(Ge,{placeholder:"Search subjects...",value:d,onChange:e=>c(e.target.value)}),t.jsx($e,{children:t.jsx(de,{className:"size-4 text-muted-foreground"})}),t.jsxs($e,{align:"inline-end",className:"text-muted-foreground",children:[C.length," results"]})]})}),S.length>0&&S.map(e=>t.jsxs("div",{className:"flex flex-row items-center bg-muted rounded-lg p-4 gap-8",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between flex-grow",children:[t.jsxs("div",{className:"flex flex-col shrink",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:e.code}),t.jsx("div",{className:"text-xl font-semibold truncate min-w-0",children:e.title})]}),t.jsxs("div",{className:"",children:[t.jsx("div",{className:"text-muted-foreground text-end",children:e.units}),t.jsx("div",{className:"text-xl font-bold font-mono text-end",children:e.grade.toFixed(2)})]})]}),t.jsxs(Se,{orientation:"vertical","aria-label":"Media controls",className:"h-fit",children:[t.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>{l(e),g(!0)},children:t.jsx(ce,{className:"w-4 h-4"})}),t.jsx(Ce,{variant:"destructive",size:"icon",onClick:()=>(e=>{i(t=>{const a=t.filter(t=>t.id!==e.id);return localStorage.setItem(s,JSON.stringify(a)),a})})(e),children:t.jsx(ue,{className:"w-4 h-4"})})]})]},e.id)),S.length>0&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-4",children:[t.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",10*(u-1)+1," - ",Math.min(10*u,C.length)," of ",C.length," row(s)"]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Le,{currentPage:u,totalPages:z,onPageChange:m,showPreviousNext:!0})})]}),0===C.length&&r.length>0&&t.jsx("div",{className:"flex flex-row items-center justify-center bg-muted rounded-lg py-12 px-4 gap-4",children:t.jsx("span",{className:"text-muted-foreground",children:"No subjects match your search."})})]})]}),t.jsx(ft,{open:x,onOpenChange:e=>{g(e),e||l(null)},onClose:()=>g(!1),onSave:()=>h.current?.requestSubmit(),processing:j,success:N,editingSubject:o,dirty:w,children:t.jsx(Lt,{ref:h,subject:o,subjects:r,onSuccess:o?async e=>{o&&(b(!0),i(t=>t.map(t=>t.id===o.id?{id:o.id,code:e.code,title:e.title,grade:e.grade,units:e.units}:t)),b(!1),g(!1))}:async e=>{b(!0);const t={id:crypto.randomUUID(),code:e.code,title:e.title,grade:e.grade,units:e.units};i(e=>[...e,t]),b(!1)},inputRef:v,setModalOpen:g,setProcessing:b,setSuccess:y,setDirty:k})})]})}!function(){const e=localStorage.getItem("appearance")||"system";xe(e),ge()?.addEventListener("change",fe)}(),me.createRoot(document.getElementById("root")).render(t.jsx(e.StrictMode,{children:t.jsx(Vt,{})}));

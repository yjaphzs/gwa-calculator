import{r as e,j as t,t as s,c as a,R as n,T as r,S as i,M as o,a as l,L as d,b as c,C as u,d as m,e as x,m as f,A as h,f as g,g as p,h as j,i as v,k as b,l as y,n as N,D as w,o as S,p as k,P as C,O as z,q as O,s as E,u as I,v as F,G as _,I as M,w as A,x as D,y as P,z as Y,B as R,E as L,F as T,H as V,J as U,K as $,N as J,Q as B,U as G,V as K,W,X as q,Y as H,Z as Q,_ as X,$ as Z,a0 as ee,a1 as te,a2 as se,a3 as ae,a4 as ne,a5 as re,a6 as ie,a7 as oe,a8 as le,a9 as de,aa as ce,ab as ue,ac as me,ad as xe,ae as fe,af as he,ag as ge,ah as pe,ai as je,aj as ve,ak as be,al as ye,am as Ne,an as we,ao as Se,ap as ke,aq as Ce,ar as ze,as as Oe,at as Ee,au as Ie,av as Fe,aw as _e,ax as Me,ay as Ae,az as De,aA as Pe,aB as Ye,aC as Re,aD as Le,aE as Te,aF as Ve,aG as Ue,aH as $e,aI as Je,aJ as Be,aK as Ge}from"./vendor-GWtlYcno.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Ke=e=>{const t="dark"===e||"system"===e&&"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: light)").matches;document.documentElement.classList.toggle("dark",t),document.documentElement.style.colorScheme=t?"dark":"light"},We=()=>"undefined"==typeof window?null:window.matchMedia("(prefers-color-scheme: dark)"),qe=()=>{const e=localStorage.getItem("appearance");Ke(e||"system")};function He(){const[t,s]=e.useState("system"),a=e.useCallback(e=>{s(e),localStorage.setItem("appearance",e),((e,t,s=365)=>{if("undefined"==typeof document)return;const a=24*s*60*60;document.cookie=`${e}=${t};path=/;max-age=${a};SameSite=Lax`})("appearance",e),Ke(e)},[]);return e.useEffect(()=>{const e=localStorage.getItem("appearance");return a(e||"system"),()=>We()?.removeEventListener("change",qe)},[a]),{appearance:t,updateAppearance:a}}const Qe=({appName:e,appVersion:s})=>t.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t.jsx("a",{href:"https://www.yjaphzs.xyz/",target:"_blank",rel:"noopener noreferrer",children:t.jsx("div",{className:"bg-primary-foreground rounded-md overflow-hidden flex items-center self-start h-8 w-8",children:t.jsx("img",{src:"/gwa-calculator/assets/jpb-logo-GA3ggzQ-.jpg",alt:"JPB Logo",className:"object-cover"})})}),t.jsx("div",{className:"flex flex-col text-left",children:t.jsxs("h1",{className:"scroll-m-20 text-2xl font-extrabold tracking-tight text-balance m-0 p-0",children:[e," ",t.jsxs("span",{className:"text-xs font-mono font-light",children:["v",s]})]})})]});function Xe(...e){return s(a(e))}function Ze({className:e,...s}){return t.jsx(n,{"data-slot":"switch",className:Xe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-muted/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t.jsx(r,{"data-slot":"switch-thumb",className:Xe("bg-background dark:data-[state=unchecked]:bg-primary dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function et(){const{appearance:e,updateAppearance:s}=He();return t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(i,{className:"size-4"}),t.jsx(Ze,{checked:"dark"===e,onCheckedChange:e=>s(e?"dark":"light"),"aria-label":"Toggle theme"}),t.jsx(o,{className:"size-4"})]})}const tt=["","default","thin","skinny","circle","no_background"],st={kofiWhite:"#FFF",kofiBlack:"#000",kofiRed:"#FF5E5B",kofiBlue:"#13C3FF",kofiYellow:"#FBAA19",kofiGrey:"#434B57"};function at(e="kofiBlue"){return st[e]||e}const nt=({username:e="costasak",label:s="Support Me on Ko-fi",title:a="",preset:n="",backgroundColor:r="kofiBlue",animation:i=!0})=>{const o="https://ko-fi.com/"+e;let l=n;return n&&!tt.includes(n)&&(console.warn(`Unknown preset "${n}", reverting to default`),l=""),"default"===l&&(l=""),t.jsx("div",{className:"KofiContainer",style:{"--background-color":at(r)},children:t.jsxs("a",{className:"KofiButton "+l,href:o,target:"_blank",rel:"noreferrer noopener external",title:a,children:[t.jsx("figure",{className:"KofiImageContainer",children:t.jsx("img",{className:"KofiImage animation_"+i,alt:"Support me on Ko-fi",src:"https://cdn.ko-fi.com/cdn/kofi5.png"})}),s&&t.jsx("span",{className:"KofiText",children:s})]})})};function rt({className:e,...s}){return t.jsx(l,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...s})}function it({className:e,...s}){return t.jsx(d,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function ot({className:e,...s}){return t.jsx(c,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function lt({className:e,...s}){return t.jsx(u,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...s})}const dt=(e,t)=>Math.random()*(t-e)+e,ct=(e,t)=>Math.floor(Math.random()*(t-e)+e),ut=()=>`hsl(${ct(0,360)}, 100%, 50%)`;function mt(e,t,s,a,n,r,i,o){return{x:e,y:t,color:s,speed:a,direction:n,vx:Math.cos(n)*a,vy:Math.sin(n)*a,gravity:r,friction:i,alpha:1,decay:dt(.005,.02),size:o,update(){this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.x+=this.vx,this.y+=this.vy,this.alpha-=this.decay},draw(e){e.save(),e.globalAlpha=this.alpha,e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fillStyle=this.color,e.fill(),e.restore()},isAlive(){return this.alpha>0}}}function xt(e,t,s,a,n,r,i,o,l){const d=-Math.PI/2+dt(-.3,.3);return{x:e,y:t,targetY:s,color:a,speed:n,size:r,angle:d,vx:Math.cos(d)*n,vy:Math.sin(d)*n,trail:[],trailLength:ct(10,25),exploded:!1,update(){return this.trail.push({x:this.x,y:this.y}),this.trail.length>this.trailLength&&this.trail.shift(),this.x+=this.vx,this.y+=this.vy,this.vy+=.02,!(this.vy>=0||this.y<=this.targetY)||(this.explode(),!1)},explode(){const e=ct(50,150),t=[];for(let s=0;s<e;s++){const e=dt(0,2*Math.PI),s=ft(i),a=ft(o);t.push(mt(this.x,this.y,this.color,s,e,.05,.98,a))}l(t)},draw(e){if(e.save(),e.beginPath(),this.trail.length>1){e.moveTo(this.trail[0]?.x??this.x,this.trail[0]?.y??this.y);for(const t of this.trail)e.lineTo(t.x,t.y)}else e.moveTo(this.x,this.y),e.lineTo(this.x,this.y);e.strokeStyle=this.color,e.lineWidth=this.size,e.lineCap="round",e.stroke(),e.restore()}}}function ft(e){return"number"==typeof e?e:dt(e.min,e.max)}function ht(e){return Array.isArray(e)?e[ct(0,e.length)]??ut():e??ut()}function gt({ref:s,className:a,canvasProps:n,population:r=1,color:i,fireworkSpeed:o={min:4,max:8},fireworkSize:l={min:2,max:5},particleSpeed:d={min:2,max:7},particleSize:c={min:1,max:5},...u}){const m=e.useRef(null),x=e.useRef(null);return e.useImperativeHandle(s,()=>x.current),e.useEffect(()=>{const e=m.current,t=x.current;if(!e||!t)return;const s=e.getContext("2d");if(!s)return;let a=window.innerWidth,n=t.offsetHeight/t.offsetWidth,u=a*n;e.width=a,e.height=u;const f=()=>{a=window.innerWidth,n=t.offsetHeight/t.offsetWidth,u=a*n,e.width=a,e.height=u};window.addEventListener("resize",f);const h=[],g=[],p=e=>{h.push(...e)},j=()=>{const e=dt(.1*a,.9*a),t=u,s=dt(.1*u,.4*u),n=ht(i),m=ft(o),x=ft(l);g.push(xt(e,t,s,n,m,x,d,c,p));const f=dt(300,800)/r;setTimeout(j,f)};let v;j();const b=()=>{s.clearRect(0,0,a,u);for(let e=g.length-1;e>=0;e--){const t=g[e];t?.update()?t.draw(s):g.splice(e,1)}for(let e=h.length-1;e>=0;e--){const t=h[e];t?.update(),t?.isAlive()?t.draw(s):h.splice(e,1)}v=requestAnimationFrame(b)};b();const y=e=>{const t=e.clientX,s=u,a=e.clientY,n=ht(i),r=ft(o),m=ft(l);g.push(xt(t,s,a,n,r,m,d,c,p))};return t.addEventListener("click",y),()=>{window.removeEventListener("resize",f),t.removeEventListener("click",y),cancelAnimationFrame(v)}},[r,i,o,l,d,c]),t.jsx("div",{ref:x,"data-slot":"fireworks-background",className:Xe("relative size-full overflow-hidden",a),...u,children:t.jsx("canvas",{...n,ref:m,className:Xe("absolute inset-0 size-full",n?.className)})})}function pt(e){return e>=1&&e<=1.5?"University Scholar":e>1.5&&e<=1.75?"College Scholar":e>1.75&&e<=2?"Dean's Lister":null}const jt="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function vt(t,s,a,n){const r=e.useRef(s);jt(()=>{r.current=s},[s]),e.useEffect(()=>{const e=window;if(!e||!e.addEventListener)return;const s=e=>{r.current(e)};return e.addEventListener(t,s,n),()=>{e.removeEventListener(t,s,n)}},[t,a,n])}function bt(t){const s=e.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return jt(()=>{s.current=t},[t]),e.useCallback((...e)=>s.current?.(...e),[s])}const yt="undefined"==typeof window;function Nt(t,s,a={}){const{initializeWithValue:n=!0}=a,r=e.useCallback(e=>a.serializer?a.serializer(e):JSON.stringify(e),[a]),i=e.useCallback(e=>{if(a.deserializer)return a.deserializer(e);if("undefined"===e)return;const t=s instanceof Function?s():s;let n;try{n=JSON.parse(e)}catch(r){return console.error("Error parsing JSON:",r),t}return n},[a,s]),o=e.useCallback(()=>{const e=s instanceof Function?s():s;if(yt)return e;try{const s=window.localStorage.getItem(t);return s?i(s):e}catch(a){return console.warn(`Error reading localStorage key "${t}":`,a),e}},[s,t,i]),[l,d]=e.useState(()=>n?o():s instanceof Function?s():s),c=bt(e=>{yt&&console.warn(`Tried setting localStorage key "${t}" even though environment is not a client`);try{const s=e instanceof Function?e(o()):e;d(s),!1!==a.enabled&&(window.localStorage.setItem(t,r(s)),window.dispatchEvent(new StorageEvent("local-storage",{key:t})))}catch(s){console.warn(`Error setting localStorage key "${t}":`,s)}}),u=bt(()=>{yt&&console.warn(`Tried removing localStorage key "${t}" even though environment is not a client`);const e=s instanceof Function?s():s;window.localStorage.removeItem(t),d(e),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))});e.useEffect(()=>{d(o())},[t]);const m=e.useCallback(e=>{e.key&&e.key!==t||d(o())},[t,o]);return vt("storage",m),vt("local-storage",m),[l,c,u]}const wt=x("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function St({className:e,variant:s,asChild:a=!1,...n}){const r=a?m:"span";return t.jsx(r,{"data-slot":"badge",className:Xe(wt({variant:s}),e),...n})}const kt=x("inline-flex items-center justify-center cursor-pointer rounded-md transition-colors disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",muted:"bg-muted text-muted-foreground",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50"},size:{default:"size-8 rounded-lg [&_svg]:size-4",sm:"size-6 [&_svg]:size-3",md:"size-10 rounded-lg [&_svg]:size-5",lg:"size-12 rounded-xl [&_svg]:size-6"}},defaultVariants:{variant:"default",size:"default"}});function Ct({content:s,className:a,size:n,variant:r,delay:i=3e3,onClick:o,onCopy:l,isCopied:d,onCopyChange:c,...u}){const[m,x]=e.useState(d??!1),j=m?g:p;e.useEffect(()=>{x(d??!1)},[d]);const v=e.useCallback(e=>{x(e),c?.(e)},[c]),b=e.useCallback(e=>{d||(s&&navigator.clipboard.writeText(s).then(()=>{v(!0),setTimeout(()=>v(!1),i),l?.(s)}).catch(e=>{console.error("Error copying command",e)}),o?.(e))},[d,s,i,o,l,v]);return t.jsx(f.button,{"data-slot":"copy-button",whileHover:{scale:1.05},whileTap:{scale:.95},className:Xe(kt({variant:r,size:n}),a),onClick:b,...u,children:t.jsx(h,{mode:"wait",children:t.jsx(f.span,{"data-slot":"copy-button-icon",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.15},children:t.jsx(j,{})},m?"check":"copy")})})}const zt=({gwa:e,honor:s,semestersCount:a})=>t.jsxs("div",{className:"flex flex-col gap-2 border border-dashed bg-muted/30 rounded-lg w-full py-12 px-8 "+(a>0?"mt-4":"mt-8"),children:[t.jsx("div",{className:"flex justify-end",children:s&&t.jsxs(St,{variant:"secondary",children:[t.jsx(j,{className:"text-primary"}),s]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ct,{variant:"default",size:"lg",content:null!==e&&0!==e?e.toFixed(3):"0"}),t.jsx("div",{className:"text-end text-6xl font-mono font-bold",children:null!==e&&0!==e?e.toFixed(3):"0"})]})]});function Ot({className:e,...s}){return t.jsx("div",{"data-slot":"empty",className:Xe("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",e),...s})}function Et({className:e,...s}){return t.jsx("div",{"data-slot":"empty-header",className:Xe("flex max-w-sm flex-col items-center gap-2 text-center",e),...s})}const It=x("flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function Ft({className:e,variant:s="default",...a}){return t.jsx("div",{"data-slot":"empty-icon","data-variant":s,className:Xe(It({variant:s,className:e})),...a})}function _t({className:e,...s}){return t.jsx("div",{"data-slot":"empty-title",className:Xe("text-lg font-medium tracking-tight",e),...s})}function Mt({className:e,...s}){return t.jsx("div",{"data-slot":"empty-description",className:Xe("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",e),...s})}function At({className:e,...s}){return t.jsx("div",{"data-slot":"empty-content",className:Xe("flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance",e),...s})}const Dt=x("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 dark:hover:text-foreground/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Pt({className:e,variant:s,size:a,asChild:n=!1,...r}){const i=n?m:"button";return t.jsx(i,{"data-slot":"button",className:Xe(Dt({variant:s,size:a,className:e})),...r})}const Yt=x("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function Rt({className:e,orientation:s,...a}){return t.jsx("div",{role:"group","data-slot":"button-group","data-orientation":s,className:Xe(Yt({orientation:s}),e),...a})}function Lt({...e}){return t.jsx(v,{"data-slot":"alert-dialog",...e})}function Tt({...e}){return t.jsx(b,{"data-slot":"alert-dialog-trigger",...e})}function Vt({...e}){return t.jsx(C,{"data-slot":"alert-dialog-portal",...e})}function Ut({className:e,...s}){return t.jsx(z,{"data-slot":"alert-dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function $t({className:e,...s}){return t.jsxs(Vt,{children:[t.jsx(Ut,{}),t.jsx(y,{"data-slot":"alert-dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s})]})}function Jt({className:e,...s}){return t.jsx("div",{"data-slot":"alert-dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...s})}function Bt({className:e,...s}){return t.jsx("div",{"data-slot":"alert-dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function Gt({className:e,...s}){return t.jsx(N,{"data-slot":"alert-dialog-title",className:Xe("text-lg font-semibold",e),...s})}function Kt({className:e,...s}){return t.jsx(w,{"data-slot":"alert-dialog-description",className:Xe("text-muted-foreground text-sm",e),...s})}function Wt({className:e,variant:s="default",...a}){return t.jsx(k,{className:Xe(Dt({variant:s}),e),...a})}function qt({className:e,...s}){return t.jsx(S,{className:Xe(Dt({variant:"outline"}),e),...s})}function Ht({...e}){return t.jsx(O,{"data-slot":"dropdown-menu",...e})}function Qt({...e}){return t.jsx(E,{"data-slot":"dropdown-menu-trigger",...e})}function Xt({className:e,sideOffset:s=4,...a}){return t.jsx(I,{children:t.jsx(F,{"data-slot":"dropdown-menu-content",sideOffset:s,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function Zt({...e}){return t.jsx(_,{"data-slot":"dropdown-menu-group",...e})}function es({className:e,inset:s,variant:a="default",...n}){return t.jsx(M,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:Xe("focus:bg-accent text-foreground focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function ts({...e}){return t.jsx(L,{"data-slot":"dropdown-menu-radio-group",...e})}function ss({className:e,children:s,...a}){return t.jsxs(T,{"data-slot":"dropdown-menu-radio-item",className:Xe("focus:bg-accent text-foreground focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[t.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:t.jsx(V,{children:t.jsx(U,{className:"size-2 fill-current"})})}),s]})}function as({className:e,...s}){return t.jsx(A,{"data-slot":"dropdown-menu-separator",className:Xe("bg-border -mx-1 my-1 h-px",e),...s})}function ns({...e}){return t.jsx(D,{"data-slot":"dropdown-menu-sub",...e})}function rs({className:e,inset:s,children:a,...n}){return t.jsxs(P,{"data-slot":"dropdown-menu-sub-trigger","data-inset":s,className:Xe("focus:bg-accent text-foreground focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[a,t.jsx(Y,{className:"ml-auto size-4"})]})}function is({className:e,...s}){return t.jsx(R,{"data-slot":"dropdown-menu-sub-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...s})}function os({className:e,...s}){return t.jsx("kbd",{"data-slot":"kbd",className:Xe("bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium select-none","[&_svg:not([class*='size-'])]:size-3","[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10",e),...s})}function ls({className:e,...s}){return t.jsx("kbd",{"data-slot":"kbd-group",className:Xe("inline-flex items-center gap-1",e),...s})}function ds({...e}){return t.jsx($,{"data-slot":"select",...e})}function cs({...e}){return t.jsx(Q,{"data-slot":"select-group",...e})}function us({...e}){return t.jsx(K,{"data-slot":"select-value",...e})}function ms({className:e,size:s="default",children:a,...n}){return t.jsxs(J,{"data-slot":"select-trigger","data-size":s,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[a,t.jsx(B,{asChild:!0,children:t.jsx(G,{className:"size-4 opacity-50"})})]})}function xs({className:e,children:s,position:a="popper",align:n="center",...r}){return t.jsx(W,{children:t.jsxs(q,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,align:n,...r,children:[t.jsx(gs,{}),t.jsx(H,{className:Xe("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),t.jsx(ps,{})]})})}function fs({className:e,...s}){return t.jsx(X,{"data-slot":"select-label",className:Xe("text-muted-foreground px-2 py-1.5 text-xs",e),...s})}function hs({className:e,children:s,...a}){return t.jsxs(Z,{"data-slot":"select-item",className:Xe("focus:bg-accent text-foreground focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(ee,{children:t.jsx(g,{className:"size-4"})})}),t.jsx(te,{children:s})]})}function gs({className:e,...s}){return t.jsx(se,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(ae,{className:"size-4"})})}function ps({className:e,...s}){return t.jsx(ne,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(G,{className:"size-4"})})}function js({className:e,type:s,...a}){return t.jsx("input",{type:s,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}function vs({className:e,...s}){return t.jsx("div",{"data-slot":"input-group",role:"group",className:Xe("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",e),...s})}const bs=x("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function ys({className:e,align:s="inline-start",...a}){return t.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":s,className:Xe(bs({align:s}),e),onClick:e=>{e.target.closest("button")||e.currentTarget.parentElement?.querySelector("input")?.focus()},...a})}function Ns({className:e,...s}){return t.jsx(js,{"data-slot":"input-group-control",className:Xe("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",e),...s})}const ws=({subjects:e,semesters:s,honor:a,gwa:n,handleSave:r,autosave:i,setAutosave:o,setSubjectModalOpen:l,resetDialogOpen:d,setResetDialogOpen:c,handleReset:u,handleImport:m,handleExport:x,congratsDialogOpen:f,setCongratsDialogOpen:h,saveSemesterDialogOpen:g,setSaveSemesterDialogOpen:p,setSemesterModalOpen:j,pageSize:v,pageSizeOptions:b,setPageSize:y,setCurrentPage:N,search:w,setSearch:S,searchInputRef:k,filteredSubjectsCount:C})=>t.jsx(t.Fragment,{children:0===e.length&&0===s.length?t.jsxs(Ot,{className:"border border-dashed",children:[t.jsxs(Et,{children:[t.jsx(Ft,{variant:"icon",children:t.jsx(re,{})}),t.jsx(_t,{children:"No Subjects Found"}),t.jsx(Mt,{children:"Add subjects to get started and calculate your GWA as you go. You can also import your records if you have existing subject data."})]}),t.jsx(At,{children:t.jsxs("div",{className:"flex flex-row gap-2",children:[t.jsx(Pt,{variant:"outline",size:"sm",onClick:()=>l(!0),children:"Add Subject"}),t.jsx(Pt,{variant:"outline",size:"sm",onClick:m,children:"Import Data"})]})})]}):0===e.length&&s.length>0?t.jsxs(Ot,{className:"border border-dashed",children:[t.jsxs(Et,{children:[t.jsx(Ft,{variant:"icon",children:t.jsx(re,{})}),t.jsx(_t,{children:"No Subjects Found"}),t.jsx(Mt,{children:"You have no subjects for this semester. Add subjects to begin tracking your grades. You can view your archived subjects in the semesters tab."})]}),t.jsx(At,{children:t.jsx(Pt,{variant:"outline",size:"sm",onClick:()=>l(!0),children:"Add Subject"})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex flex-row flex-wrap-reverse gap-2 items-center justify-start sm:justify-end w-full",children:t.jsxs(Rt,{className:"flex-row-reverse sm:flex-row",children:[a&&t.jsx(Rt,{children:t.jsxs(Lt,{open:f,onOpenChange:h,children:[t.jsx(Tt,{asChild:!0,children:t.jsxs(Pt,{variant:"default",onClick:()=>h(!0),children:[t.jsx(ie,{className:"size-4"}),"Congratulate"]})}),t.jsxs($t,{children:[t.jsxs(Jt,{className:"items-center",children:[t.jsx("div",{className:"flex size-12 items-center justify-center rounded-xl bg-primary",children:t.jsx(ie,{className:"size-6 text-primary-foreground"})}),t.jsx(Gt,{className:"text-2xl",children:"Congratulations!"}),t.jsxs(Kt,{className:"text-md text-center",children:["You've achieved the academic honor of"," ",t.jsx("strong",{children:a})," ","with a GWA of"," ",t.jsx("code",{className:"bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold",children:n?.toFixed(3)}),"! Keep up the excellent work!"]})]}),t.jsx(Bt,{children:t.jsx(qt,{onClick:()=>h(!1),children:"Close"})})]})]})}),t.jsxs(Rt,{children:[t.jsxs(Pt,{variant:"outline",onClick:()=>l(!0),children:[t.jsx(oe,{className:"size-4"}),"Add"]}),t.jsxs(Lt,{open:d,onOpenChange:c,children:[t.jsx(Tt,{asChild:!0,children:t.jsxs(Pt,{variant:"outline",children:[t.jsx(le,{className:"size-4"}),"Reset"]})}),t.jsxs($t,{children:[t.jsxs(Jt,{children:[t.jsx(le,{className:"size-10 border rounded-lg bg-primary text-primary-foreground p-2 mx-auto sm:mx-0"}),t.jsx(Gt,{children:"Reset all subjects?"}),t.jsx(Kt,{children:"This action cannot be undone. This will permanently delete all your subjects and reset your GWA."})]}),t.jsxs(Bt,{children:[t.jsx(qt,{children:"Cancel"}),t.jsx(Wt,{variant:"destructive",onClick:u,children:"Continue Reset"})]})]})]}),t.jsxs(Ht,{children:[t.jsx(Qt,{asChild:!0,children:t.jsx(Pt,{variant:"outline",size:"icon","aria-label":"More Options",children:t.jsx(de,{})})}),t.jsxs(Xt,{align:"end",className:"w-52",children:[t.jsx(Zt,{children:t.jsxs(Lt,{open:g,onOpenChange:p,children:[t.jsx(Tt,{asChild:!0,children:t.jsxs(es,{onSelect:e=>e.preventDefault(),children:[t.jsx(ce,{}),"Save Semester"]})}),t.jsxs($t,{children:[t.jsxs(Jt,{children:[t.jsx(ce,{className:"size-10 border rounded-lg bg-primary text-primary-foreground p-2 mx-auto sm:mx-0"}),t.jsx(Gt,{children:"Save Semester"}),t.jsx(Kt,{children:"Are you sure you want to save this semester? This will archive your current subjects and GWA."})]}),t.jsxs(Bt,{children:[t.jsx(qt,{children:"Cancel"}),t.jsx(Wt,{variant:"default",onClick:()=>{p(!1),j(!0)},children:"Confirm Save"})]})]})]})}),t.jsx(as,{}),t.jsxs(Zt,{children:[t.jsxs(es,{onClick:m,children:[t.jsx(ue,{}),"Import"]}),t.jsxs(es,{onClick:x,children:[t.jsx(me,{}),"Export"]})]}),t.jsx(as,{}),t.jsxs(Zt,{children:[t.jsxs(es,{onClick:r,children:[t.jsx(xe,{}),"Save"]}),t.jsxs(ns,{children:[t.jsxs(rs,{children:[t.jsx(fe,{}),"Autosave"]}),t.jsx(is,{children:t.jsxs(ts,{value:i?"enable":"disabled",onValueChange:e=>o("enable"===e),children:[t.jsx(ss,{value:"enable",children:"Enable"}),t.jsx(ss,{value:"disabled",children:"Disable"})]})})]})]})]})]})]})]})}),t.jsxs("div",{className:"w-full flex justify-end gap-2",children:[t.jsxs(ds,{value:String(v),onValueChange:e=>{N(1),y(Number(e))},children:[t.jsx(ms,{className:"w-20",children:t.jsx(us,{})}),t.jsx(xs,{children:b.map(e=>t.jsx(hs,{value:String(e),children:e},e))})]}),t.jsxs(vs,{className:"sm ml-auto",children:[t.jsx(Ns,{ref:k,placeholder:"Search subjects...",value:w,onChange:e=>S(e.target.value)}),t.jsx(ys,{children:t.jsx(he,{className:"size-4 text-muted-foreground"})}),t.jsxs(ys,{align:"inline-end",className:"text-muted-foreground",children:[C," results",t.jsxs(ls,{className:"hidden sm:inline-flex",children:[t.jsx(os,{children:t.jsx(ge,{})}),t.jsx(os,{children:"K"})]})]})]})]})]})});function Ss({className:e,...s}){return t.jsx("div",{role:"list","data-slot":"item-group",className:Xe("group/item-group flex flex-col",e),...s})}const ks=x("group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-4 gap-4 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Cs({className:e,variant:s="default",size:a="default",asChild:n=!1,...r}){const i=n?m:"div";return t.jsx(i,{"data-slot":"item","data-variant":s,"data-size":a,className:Xe(ks({variant:s,size:a,className:e})),...r})}function zs({className:e,...s}){return t.jsx("div",{"data-slot":"item-content",className:Xe("flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none",e),...s})}function Os({className:e,...s}){return t.jsx("div",{"data-slot":"item-title",className:Xe("flex w-fit items-center gap-2 text-sm leading-snug font-medium",e),...s})}function Es({className:e,...s}){return t.jsx("p",{"data-slot":"item-description",className:Xe("text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-balance","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...s})}function Is({className:e,...s}){return t.jsx("div",{"data-slot":"item-actions",className:Xe("flex items-center gap-2",e),...s})}function Fs({className:e,...s}){return t.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Xe("mx-auto flex w-full justify-center",e),...s})}function _s({className:e,...s}){return t.jsx("ul",{"data-slot":"pagination-content",className:Xe("flex flex-row items-center gap-1",e),...s})}function Ms({...e}){return t.jsx("li",{"data-slot":"pagination-item",...e})}function As({className:e,isActive:s,size:a="icon",...n}){return t.jsx("a",{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:Xe(Dt({variant:s?"default":"ghost",size:a}),e),...n})}function Ds({className:e,...s}){return t.jsxs(As,{"aria-label":"Go to previous page",size:"default",className:Xe("gap-1 px-2.5 sm:pl-2.5",e),...s,children:[t.jsx(pe,{}),t.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function Ps({className:e,...s}){return t.jsxs(As,{"aria-label":"Go to next page",size:"default",className:Xe("gap-1 px-2.5 sm:pr-2.5",e),...s,children:[t.jsx("span",{className:"hidden sm:block",children:"Next"}),t.jsx(Y,{})]})}function Ys({className:e,...s}){return t.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:Xe("flex size-9 items-center justify-center",e),...s,children:[t.jsx(de,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"More pages"})]})}const Rs=(e,s,a)=>{const n=[];if(s<=4)for(let r=1;r<=s;r++)n.push(t.jsx(Ms,{children:t.jsx(As,{onClick:()=>a(r),isActive:r===e,children:r})},r));else{n.push(t.jsx(Ms,{children:t.jsx(As,{onClick:()=>a(1),isActive:1===e,children:"1"})},1)),e>3&&n.push(t.jsx(Ys,{},"start-ellipsis"));let r=Math.max(2,e-1),i=Math.min(s-1,e+1);for(let s=r;s<=i;s++)n.push(t.jsx(Ms,{children:t.jsx(As,{onClick:()=>a(s),isActive:s===e,children:s})},s));e<s-2&&n.push(t.jsx(Ys,{},"end-ellipsis")),n.push(t.jsx(Ms,{children:t.jsx(As,{onClick:()=>a(s),isActive:e===s,children:s})},s))}return n};function Ls({currentPage:e,totalPages:s,onPageChange:a,showPreviousNext:n=!0}){const r=e<=1,i=e>=s;return t.jsx(Fs,{children:t.jsxs(_s,{children:[n&&t.jsx(Ms,{children:t.jsx(Ds,{"aria-disabled":r,tabIndex:r?-1:0,className:r?"pointer-events-none opacity-50":"",onClick:()=>{r||a(e-1)}})}),Rs(e,s,a),n&&t.jsx(Ms,{children:t.jsx(Ps,{"aria-disabled":i,tabIndex:i?-1:0,className:i?"pointer-events-none opacity-50":"",onClick:()=>{i||a(e+1)}})})]})})}const Ts=({paginatedSubjects:e,filteredSubjects:s,subjects:a,pageSize:n,currentPage:r,totalPages:i,setCurrentPage:o,handleDelete:l,setEditingSubject:d,setSubjectModalOpen:c})=>t.jsxs(t.Fragment,{children:[e.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(Ss,{className:"gap-4 mt-4",children:e.map(e=>t.jsx(Cs,{variant:"outline",asChild:!0,role:"listitem",children:t.jsxs("div",{className:"flex items-center w-full",children:[t.jsxs(zs,{children:[t.jsx(Os,{className:"line-clamp-1 text-muted-foreground",children:e.code}),t.jsx(Es,{className:"text-xl font-semibold line-clamp-1",children:e.title})]}),t.jsxs(zs,{children:[t.jsx(Os,{className:"line-clamp-1 text-muted-foreground w-full text-end",children:e.units}),t.jsx(Es,{className:"text-2xl font-bold line-clamp-1 font-mono w-full text-end",children:e.grade.toFixed(2)})]}),t.jsx(Is,{children:t.jsxs(Rt,{orientation:"vertical","aria-label":"Media controls",className:"h-fit",children:[t.jsx(Pt,{variant:"outline",size:"icon",onClick:()=>{d(e),c(!0)},children:t.jsx(je,{className:"w-4 h-4"})}),t.jsx(Pt,{variant:"destructive",size:"icon",onClick:()=>l(e),children:t.jsx(ve,{className:"w-4 h-4"})})]})})]})},e.id))}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between w-full gap-4",children:[t.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",(r-1)*n+1," - ",Math.min(r*n,s.length)," of ",s.length," row(s)"]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Ls,{currentPage:r,totalPages:i,onPageChange:o,showPreviousNext:!0})})]})]}),0===s.length&&a.length>0&&t.jsx(Ot,{className:"border border-dashed",children:t.jsxs(Et,{children:[t.jsx(Ft,{variant:"icon",children:t.jsx(be,{})}),t.jsx(_t,{children:"No Results Found"}),t.jsx(Mt,{children:"Try adjusting your search criteria to find what you're looking for."})]})})]});function Vs({...e}){return t.jsx(ye,{"data-slot":"dialog",...e})}function Us({...e}){return t.jsx(ze,{"data-slot":"dialog-portal",...e})}function $s({...e}){return t.jsx(we,{"data-slot":"dialog-close",...e})}function Js({className:e,...s}){return t.jsx(Oe,{"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function Bs({className:e,children:s,showCloseButton:a=!0,...n}){return t.jsxs(Us,{"data-slot":"dialog-portal",children:[t.jsx(Js,{}),t.jsxs(Ne,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[s,a&&t.jsxs(we,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(Se,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Gs({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...s})}function Ks({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function Ws({className:e,...s}){return t.jsx(ke,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...s})}function qs({className:e,...s}){return t.jsx(Ce,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...s})}const Hs=({open:e,onOpenChange:s,title:a,description:n,editingSubject:r,onSave:i,onClose:o,processing:l=!1,success:d=!1,dirty:c=!0,children:u})=>{const m=!!r,x=a??(m?"Edit Subject":"Add Subject"),f=n??(m?"Update the form below to edit your subject. Click update when you're done.":"Fill out the form below to add your subject. Click save when you're done.");return t.jsx(Vs,{open:e,onOpenChange:s,children:t.jsxs(Bs,{className:"sm:max-w-xl",children:[t.jsxs(Gs,{children:[t.jsx(Ws,{children:x}),t.jsx(qs,{children:f})]}),t.jsx("div",{className:"grid gap-4",children:u}),t.jsxs(Ks,{children:[t.jsx($s,{asChild:!0,children:t.jsx(Pt,{variant:"outline",onClick:o,disabled:l,children:"Cancel"})}),t.jsxs(Pt,{type:"button",className:""+(d&&!c?"text-stone-100":""),onClick:i,disabled:l||!c,variant:d&&!c?"secondary":"default",tabIndex:l?-1:0,children:[l&&t.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}),r?"Update":"Save"]})]})]})})};function Qs({className:e,...s}){return t.jsx(Ie,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const Xs=Fe,Zs=e.createContext({}),ea=({...e})=>t.jsx(Zs.Provider,{value:{name:e.name},children:t.jsx(_e,{...e})}),ta=()=>{const t=e.useContext(Zs),s=e.useContext(sa),{getFieldState:a}=Me(),n=Ae({name:t.name}),r=a(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},sa=e.createContext({});function aa({className:s,...a}){const n=e.useId();return t.jsx(sa.Provider,{value:{id:n},children:t.jsx("div",{"data-slot":"form-item",className:Xe("grid gap-2",s),...a})})}function na({className:e,...s}){const{error:a,formItemId:n}=ta();return t.jsx(Qs,{"data-slot":"form-label","data-error":!!a,className:Xe("data-[error=true]:text-destructive",e),htmlFor:n,...s})}function ra({...e}){const{error:s,formItemId:a,formDescriptionId:n,formMessageId:r}=ta();return t.jsx(m,{"data-slot":"form-control",id:a,"aria-describedby":s?`${n} ${r}`:`${n}`,"aria-invalid":!!s,...e})}function ia({className:e,...s}){const{error:a,formMessageId:n}=ta(),r=a?String(a?.message??""):s.children;return r?t.jsx("p",{"data-slot":"form-message",id:n,className:Xe("text-destructive text-sm",e),...s,children:r}):null}const oa=De({code:Pe({message:"Code is required."}),title:Pe({message:"Title is required."}),grade:Pe({message:"Grade is required."}),units:Pe({message:"Units are required."})}),la=e.forwardRef(({subject:s,subjects:a,onSuccess:n,inputRef:r,setModalOpen:i,setProcessing:o,setSuccess:l,setDirty:d},c)=>{const u=Ye({resolver:Re(oa),defaultValues:s?{code:s.code,title:s.title,grade:s.grade.toFixed(2),units:s.units.toString()}:{code:"CODE"+(a?(a.length+1).toString().padStart(4,"0"):"0001"),title:"Subject "+(a?(a.length+1).toString():"1")}});return e.useEffect(()=>{d?.(u.formState.isDirty)},[u.formState.isDirty,d]),t.jsx(Xs,{...u,children:t.jsxs("form",{ref:c,onSubmit:u.handleSubmit(async function(e){o?.(!0),l?.(!1);try{const t={...e,grade:parseFloat(e.grade),units:Number(e.units)};n&&await n(t),l?.(!0)}finally{o?.(!1),i?.(!1)}}),className:"space-y-4",children:[t.jsx(ea,{control:u.control,name:"code",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"Course Code"}),t.jsx(ra,{children:t.jsx(js,{placeholder:"e.g., COMSCI 1101",...e,ref:r})}),t.jsx(ia,{})]})}),t.jsx(ea,{control:u.control,name:"title",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"Course Title"}),t.jsx(ra,{children:t.jsx(js,{placeholder:"e.g., Computer Programming I",...e})}),t.jsx(ia,{})]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(ea,{control:u.control,name:"grade",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"Grade"}),t.jsx(ra,{children:t.jsxs(ds,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(ms,{children:t.jsx(us,{placeholder:"Select your grade"})}),t.jsx(xs,{children:t.jsxs(cs,{children:[t.jsx(fs,{children:"Grades"}),[1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,4,5].map(e=>t.jsx(hs,{value:e.toFixed(2),children:e.toFixed(2)},e))]})})]})}),t.jsx(ia,{})]})}),t.jsx(ea,{control:u.control,name:"units",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"Units"}),t.jsx(ra,{children:t.jsxs(ds,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(ms,{children:t.jsx(us,{placeholder:"Select units"})}),t.jsx(xs,{children:t.jsxs(cs,{children:[t.jsx(fs,{children:"Units"}),[1,2,3,4,5,6,7,8,9,10].map(e=>t.jsx(hs,{value:e.toString(),children:e},e))]})})]})}),t.jsx(ia,{})]})})]})]})})}),da=({open:e,onOpenChange:s,title:a,description:n,editingSemester:r,onSave:i,onClose:o,processing:l=!1,success:d=!1,dirty:c=!0,children:u})=>{const m=!!r,x=a??(m?"Edit Semester":"Save Semester"),f=n??(m?"Update the form below to edit your semester. Click update when you're done.":"Fill out the form below to save your semester. Click save when you're done.");return t.jsx(Vs,{open:e,onOpenChange:s,children:t.jsxs(Bs,{className:"sm:max-w-xl",children:[t.jsxs(Gs,{children:[t.jsx(Ws,{children:x}),t.jsx(qs,{children:f})]}),t.jsx("div",{className:"grid gap-4",children:u}),t.jsxs(Ks,{children:[t.jsx($s,{asChild:!0,children:t.jsx(Pt,{variant:"outline",onClick:o,disabled:l,children:"Cancel"})}),t.jsxs(Pt,{type:"button",className:""+(d&&!c?"text-stone-100":""),onClick:i,disabled:l||!c,variant:d&&!c?"secondary":"default",tabIndex:l?-1:0,children:[l&&t.jsx(Ee,{className:"h-4 w-4 animate-spin mr-2"}),r?"Update":"Save"]})]})]})})};function ca({...e}){return t.jsx(Le,{"data-slot":"collapsible",...e})}function ua({...e}){return t.jsx(Te,{"data-slot":"collapsible-trigger",...e})}function ma({...e}){return t.jsx(Ve,{"data-slot":"collapsible-content",...e})}const xa=De({semester:Pe({message:"Semester is required."}),schoolYear:Pe({message:"School Year is required."})}),fa=e.forwardRef(({semester:s,subjects:a,semesters:n,onSuccess:r,inputRef:i,setModalOpen:o,setProcessing:l,setSuccess:d,setDirty:c},u)=>{const[m,x]=e.useState(!1),[f,h]=e.useState(null),g=Ye({resolver:Re(xa),defaultValues:s?{semester:s.semester,schoolYear:s.schoolYear}:void 0}),p=s?.subjects||a;function j(e=7){const t=(new Date).getFullYear(),s=[];for(let a=0;a<e;a++){const e=t-a;s.push(`${e}-${e+1}`)}return s}return e.useEffect(()=>{c?.(g.formState.isDirty)},[g.formState.isDirty,c]),e.useEffect(()=>{if(!n)return;const{semester:e,schoolYear:t}=g.getValues();if(e&&t){const a=n.some(a=>a.semester===e&&a.schoolYear===t&&(!s||a.id!==s.id));h(a?"A semester for this school year and semester already exists. Please choose a different combination.":null)}else h(null)},[g.watch("semester"),g.watch("schoolYear"),n,s,g]),t.jsxs(Xs,{...g,children:[t.jsxs("form",{ref:u,onSubmit:g.handleSubmit(async function(e){if(f)return g.setError("semester",{type:"manual",message:f}),void g.setError("schoolYear",{type:"manual",message:f});l?.(!0),d?.(!1);try{r&&await r(e),d?.(!0)}finally{l?.(!1),o?.(!1)}}),className:"space-y-4",children:[t.jsx(ea,{control:g.control,name:"semester",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"Semester"}),t.jsx(ra,{children:t.jsxs(ds,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(ms,{children:t.jsx(us,{ref:i,placeholder:"Select semester"})}),t.jsx(xs,{children:t.jsxs(cs,{children:[t.jsx(fs,{children:"Semesters"}),["First","Second","Third"].map(e=>t.jsx(hs,{value:e,children:e},e))]})})]})}),t.jsx(ia,{})]})}),t.jsx(ea,{control:g.control,name:"schoolYear",render:({field:e})=>t.jsxs(aa,{className:"flex-1",children:[t.jsx(na,{children:"School Year"}),t.jsx(ra,{children:t.jsxs(ds,{value:e.value??"",onValueChange:e.onChange,children:[t.jsx(ms,{children:t.jsx(us,{placeholder:"Select school year"})}),t.jsx(xs,{children:t.jsxs(cs,{children:[t.jsx(fs,{children:"School Years"}),j(5).map(e=>t.jsx(hs,{value:e,children:e},e))]})})]})}),t.jsx(ia,{})]})})]}),t.jsxs(ca,{open:m,onOpenChange:x,className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s?t.jsxs("h4",{className:"text-sm font-semibold",children:["There are ",t.jsx("code",{className:"bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold",children:s.subjects.length})," subjects archived in this semester"]}):t.jsxs("h4",{className:"text-sm font-semibold",children:["You are archiving ",t.jsx("code",{className:"bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold",children:a?.length??0})," subjects to this semester"]}),p&&p.length>1&&t.jsx(ua,{asChild:!0,children:t.jsxs(Pt,{variant:"ghost",size:"icon",className:"size-8",children:[t.jsx(Ue,{}),t.jsx("span",{className:"sr-only",children:"Toggle"})]})})]}),p&&p.length>0&&t.jsxs("div",{className:"flex flex-row justify-between items-center rounded-md border px-4 py-2 text-sm",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:p[0].code}),t.jsx("span",{className:"font-semibold line-clamp-1",children:p[0].title})]}),t.jsxs("div",{className:"flex flex-col justify-end text-end",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:p[0].units}),t.jsx("span",{className:"font-bold line-clamp-1 font-mono",children:p[0].grade.toFixed(2)})]})]}),t.jsx(ma,{className:"flex flex-col gap-2",children:p&&p.slice(1).map(e=>t.jsxs("div",{className:"flex flex-row justify-between items-center rounded-md border px-4 py-2 text-sm",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.code}),t.jsx("span",{className:"font-semibold line-clamp-1",children:e.title})]}),t.jsxs("div",{className:"flex flex-col justify-end text-end",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.units}),t.jsx("span",{className:"font-bold line-clamp-1 font-mono",children:e.grade.toFixed(2)})]})]},e.code))})]})]})}),ha={Third:3,Second:2,First:1},ga=({semesters:s,collapsedSemesters:a,onToggleSemester:n,onDeleteSemester:r,setSemesterModalOpen:i,setEditingSemester:o})=>{const[l,d]=e.useState(null),c=[...s].sort((e,t)=>{const s=parseInt(e.schoolYear.split("-")[0],10),a=parseInt(t.schoolYear.split("-")[0],10);return s!==a?a-s:ha[t.semester]-ha[e.semester]});return t.jsx("div",{className:"flex flex-col gap-4",children:c.map(e=>t.jsx(Cs,{variant:"outline",className:"items-start",children:t.jsxs(zs,{children:[t.jsxs(Os,{className:"flex flex-row w-full justify-between items-start",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"text-xl font-black",children:["S.Y. ",e.schoolYear]}),t.jsxs("div",{className:"font-normal text-muted-foreground",children:[e.semester," Semester"]})]}),t.jsxs(Ht,{children:[t.jsx(Qt,{asChild:!0,children:t.jsx(Pt,{variant:"outline",size:"icon","aria-label":"More Options",children:t.jsx(de,{})})}),t.jsx(Xt,{align:"end",className:"w-52",children:t.jsxs(Zt,{children:[t.jsxs(es,{onSelect:t=>{t.preventDefault(),i(!0),o(e)},children:[t.jsx(je,{className:"w-4 h-4"}),"Edit"]}),t.jsxs(Lt,{open:l===e.id,onOpenChange:e=>{e||d(null)},children:[t.jsx(Tt,{asChild:!0,children:t.jsxs(es,{variant:"destructive",onSelect:t=>{t.preventDefault(),d(e.id)},children:[t.jsx(ve,{className:"w-4 h-4"}),"Delete"]})}),t.jsxs($t,{children:[t.jsxs(Jt,{children:[t.jsx(ve,{className:"size-10 border rounded-lg bg-primary text-primary-foreground p-2 mx-auto sm:mx-0"}),t.jsx(Gt,{children:"Delete this semester?"}),t.jsxs(Kt,{children:["This action cannot be undone. This will permanently delete all your subjects under ",t.jsxs("code",{className:"bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold",children:["S.Y."," ",e.schoolYear," -"," ",e.semester," Semester."]})]})]}),t.jsxs(Bt,{children:[t.jsx(qt,{onClick:()=>d(null),children:"Cancel"}),t.jsx(Wt,{variant:"destructive",onClick:()=>{r(e),d(null)},children:"Delete"})]})]})]})]})})]})]}),t.jsxs(Es,{className:"mt-4",children:[(()=>{const s=e.subjects.reduce((e,t)=>e+t.units,0),a=e.subjects.reduce((e,t)=>e+t.grade*t.units,0),n=s?a/s:0,r=s>=12&&null!==n?pt(n):null;return t.jsxs("div",{className:"flex flex-col justify-center items-center border border-dashed p-4 rounded-lg bg-muted/30",children:[r&&t.jsxs(St,{variant:"secondary",className:"mb-2",children:[t.jsx(j,{className:"text-primary"}),r]}),t.jsx("div",{className:"text-3xl font-mono font-bold",children:n.toFixed(3)}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"GWA"})]})})(),t.jsxs(ca,{open:!!a[e.id],onOpenChange:()=>n(e.id),className:"flex flex-col gap-2 mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("h4",{className:"text-sm font-semibold",children:["There are"," ",t.jsx("code",{className:"bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold",children:e.subjects.length})," ","subjects archived in this semester"]}),e.subjects&&e.subjects.length>1&&t.jsx(ua,{asChild:!0,children:t.jsxs(Pt,{variant:"ghost",size:"icon",className:"size-8",children:[t.jsx(Ue,{}),t.jsx("span",{className:"sr-only",children:"Toggle"})]})})]}),e.subjects&&e.subjects.length>0&&t.jsxs("div",{className:"flex flex-row justify-between items-center rounded-md border px-4 py-2 text-sm",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.subjects[0].code}),t.jsx("span",{className:"font-semibold line-clamp-1",children:e.subjects[0].title})]}),t.jsxs("div",{className:"flex flex-col justify-end text-end",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.subjects[0].units}),t.jsx("span",{className:"font-bold line-clamp-1 font-mono",children:e.subjects[0].grade.toFixed(2)})]})]}),t.jsx(ma,{className:"flex flex-col gap-2",children:e.subjects&&e.subjects.slice(1).map(e=>t.jsxs("div",{className:"flex flex-row justify-between items-center rounded-md border px-4 py-2 text-sm",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.code}),t.jsx("span",{className:"font-semibold line-clamp-1",children:e.title})]}),t.jsxs("div",{className:"flex flex-col justify-end text-end",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:e.units}),t.jsx("span",{className:"font-bold line-clamp-1 font-mono",children:e.grade.toFixed(2)})]})]},e.code))})]})]})]})},e.id))})};function pa(){const s="gwa_calculator_subjects_jpb",a="gwa_calculator_semesters_jpb",n="gwa_calculator_autosave_jpb",[r,i]=e.useState("current"),[o,l]=e.useState(null),[d,c]=e.useState(null),[u,m]=Nt(n,!0,{enabled:!0}),[x,f,h]=Nt(s,[],{enabled:u}),[g,p]=e.useState(null),[j,v]=Nt(a,[],{enabled:!0}),[b,y]=e.useState(null),[N,w]=e.useState(10),[S,k]=e.useState(""),C=e.useRef(null),[z,O]=e.useState(1),[E,I]=e.useState(!1),[F,_]=e.useState(!1),[M,A]=e.useState(!1),[D,P]=e.useState(!1),[Y,R]=e.useState(!1),[L,T]=e.useState({}),V=e.useRef(null),U=e.useRef(null),[$,J]=e.useState(!1),[B,G]=e.useState(!1),[K,W]=e.useState(!0);vt("keydown",$e.useCallback(e=>{(e.ctrlKey||e.metaKey)&&"f"===e.key.toLowerCase()&&(e.preventDefault(),C.current?.focus())},[])),e.useEffect(()=>{if(0===x.length)return void l(0);const e=x.reduce((e,t)=>e+t.grade*t.units,0),t=x.reduce((e,t)=>e+t.units,0),s=t>=12&&null!==o?pt(o):null;l(parseFloat((e/t).toFixed(3))),c(s)},[x,o,d]);const q=()=>{h(),l(0),c(null),A(!1)},H=x.filter(e=>e.code.toLowerCase().includes(S.toLowerCase())||e.title.toLowerCase().includes(S.toLowerCase())||e.grade.toFixed(3).includes(S)||e.units.toString().includes(S)),Q=Math.max(1,Math.ceil(H.length/N)),X=H.slice((z-1)*N,z*N);return e.useEffect(()=>{z>Q&&O(1)},[H,Q,z]),t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-svh p-4",children:[t.jsx("main",{className:"flex-1 flex flex-col items-center justify-center w-full",children:t.jsxs("div",{className:"w-full max-w-3xl",children:[t.jsxs("div",{className:"flex flex-row items-center justify-between w-full",children:[t.jsx(Qe,{appName:"GWA Calculator",appVersion:"1.1.0"}),t.jsx(et,{})]}),t.jsxs(rt,{value:r,onValueChange:e=>{i(e)},children:[j.length>0&&t.jsxs(it,{className:"mt-8",children:[t.jsx(ot,{value:"current",children:"Current"}),t.jsx(ot,{value:"semesters",children:"Semesters"})]}),t.jsxs(lt,{value:"current",children:[t.jsx(zt,{gwa:o,honor:d,semestersCount:j.length}),t.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[t.jsx(ws,{subjects:x,semesters:j,honor:d,gwa:o,handleSave:()=>{try{localStorage.setItem(s,JSON.stringify(x)),Be.success("Subjects have been saved!")}catch(e){return void Be.error("Failed to save subjects.")}},autosave:u,setAutosave:m,setSubjectModalOpen:I,resetDialogOpen:M,setResetDialogOpen:A,handleReset:q,handleImport:()=>{const e=document.createElement("input");e.type="file",e.accept=".json,application/json",e.style.display="none",e.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const e=await t.text(),r=JSON.parse(e),i=e=>e&&"string"==typeof e.id&&"string"==typeof e.code&&"string"==typeof e.title&&"number"==typeof e.grade&&"number"==typeof e.units,o=e=>e&&"string"==typeof e.id&&"string"==typeof e.schoolYear&&"string"==typeof e.semester&&Array.isArray(e.subjects)&&e.subjects.every(i);if(!r||"object"!=typeof r)throw new Error("Invalid file structure.");if(!Array.isArray(r.subjects)||!r.subjects.every(i))throw new Error("Missing or invalid 'subjects' array.");if(!Array.isArray(r.semesters)||!r.semesters.every(o))throw new Error("Missing or invalid 'semesters' array.");if("boolean"!=typeof r.autosave)throw new Error("Missing or invalid 'autosave' value.");f(r.subjects),localStorage.setItem(s,JSON.stringify(r.subjects)),v(r.semesters),localStorage.setItem(a,JSON.stringify(r.semesters)),m(r.autosave),localStorage.setItem(n,JSON.stringify(r.autosave)),Be.success("Imported data successfully!")}catch(r){Be.error("Failed to import data. Invalid file format.")}},document.body.appendChild(e),e.click(),document.body.removeChild(e)},handleExport:()=>{try{const e={subjects:JSON.parse(localStorage.getItem(s)??"[]"),semesters:JSON.parse(localStorage.getItem(a)??"[]"),autosave:JSON.parse(localStorage.getItem(n)??"true")},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="gwa-calculator-export.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),Be.success("Exported data as gwa-calculator-export.json!")}catch(e){Be.error("Failed to export data.")}},congratsDialogOpen:D,setCongratsDialogOpen:P,saveSemesterDialogOpen:Y,setSaveSemesterDialogOpen:R,setSemesterModalOpen:_,pageSize:N,pageSizeOptions:[5,10,20,50],setPageSize:w,setCurrentPage:O,search:S,setSearch:k,searchInputRef:C,filteredSubjectsCount:H.length}),t.jsx(Ts,{paginatedSubjects:X,filteredSubjects:H,subjects:x,pageSize:N,currentPage:z,totalPages:Q,setCurrentPage:O,handleDelete:e=>{if(!$){J(!0);try{f(t=>{const a=t.filter(t=>t.id!==e.id);return localStorage.setItem(s,JSON.stringify(a)),a})}finally{J(!1)}}},setEditingSubject:p,setSubjectModalOpen:I})]})]}),t.jsx(lt,{value:"semesters",className:"pt-4",children:t.jsx(ga,{semesters:j,collapsedSemesters:L,onToggleSemester:e=>{T(t=>({...t,[e]:!t[e]}))},onDeleteSemester:e=>{if(!$){J(!0);try{v(t=>{const s=t.filter(t=>t.id!==e.id);return localStorage.setItem(a,JSON.stringify(s)),0===s.length&&i("current"),s})}finally{J(!1)}}},setSemesterModalOpen:_,setEditingSemester:y})})]})]})}),t.jsx("footer",{className:"w-full flex justify-center py-6 bg-transparent",children:t.jsx(nt,{username:"yjaphzs",label:"Buy Me a Ko-fi",preset:"no_background"})}),D&&t.jsx(gt,{className:"absolute inset-0 flex items-center justify-center rounded-xl",fireworkSpeed:{min:8,max:16},fireworkSize:{min:4,max:10},particleSpeed:{min:4,max:14},particleSize:{min:2,max:10}}),t.jsx(Hs,{open:E,onOpenChange:e=>{I(e),e||p(null)},onClose:()=>I(!1),onSave:()=>V.current?.requestSubmit(),processing:$,success:B,editingSubject:g,dirty:K,children:t.jsx(la,{ref:V,subject:g,subjects:x,onSuccess:g?async e=>{if(g&&!$){J(!0);try{f(t=>t.map(t=>t.id===g.id?{id:g.id,code:e.code,title:e.title,grade:e.grade,units:e.units}:t))}finally{I(!1),J(!1)}}}:async e=>{if(!$){J(!0);try{const t={id:crypto.randomUUID(),code:e.code,title:e.title,grade:e.grade,units:e.units};await f(e=>[...e,t])}finally{J(!1)}}},inputRef:U,setModalOpen:I,setProcessing:J,setSuccess:G,setDirty:W})}),t.jsx(da,{open:F,onOpenChange:e=>{_(e),e||y(null)},onClose:()=>_(!1),onSave:()=>V.current?.requestSubmit(),processing:$,success:B,editingSemester:b,dirty:K,children:t.jsx(fa,{ref:V,semester:b,semesters:j,subjects:x,onSuccess:b?async e=>{if(b&&!$){J(!0);try{v(t=>t.map(t=>t.id===b.id?{id:b.id,semester:e.semester,schoolYear:e.schoolYear,subjects:t.subjects}:t))}finally{J(!1),_(!1)}}}:async e=>{if(!$){J(!0);try{const t={id:crypto.randomUUID(),semester:e.semester,schoolYear:e.schoolYear,subjects:x};await v(e=>[...e,t]),q()}finally{J(!1)}}},inputRef:U,setModalOpen:_,setProcessing:J,setSuccess:G,setDirty:W})}),t.jsx(Je,{})]})}!function(){const e=localStorage.getItem("appearance")||"system";Ke(e),We()?.addEventListener("change",qe)}(),Ge.createRoot(document.getElementById("root")).render(t.jsx(e.StrictMode,{children:t.jsx(pa,{})}));
